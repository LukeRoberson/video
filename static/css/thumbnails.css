/**
 * Video Thumbnail Styles
 * ======================
 * 
 * @file thumbnails.css
 * @description Styles for video thumbnail displays across carousels, grids,
 *              and search results with responsive layout support
 * @author Video Development Team
 * @version 1.0.0
 * @created 2025-09-26
 * 
 * @components
 *   - .video-thumbnail: Individual video thumbnail card
 *   - .thumbnail-grid: Grid layout for thumbnails
 *   - .thumbnail-carousel: Horizontal scrolling thumbnail container
 *   - .thumbnail-overlay: Hover and metadata overlays
 * 
 * @responsive
 *   - Mobile: < 576px (single column, reduced padding)
 *   - Tablet: 576px - 768px (2-3 columns)
 *   - Desktop: > 768px (4+ columns, full features)
 */

/* ==========================================================================
   1. THUMBNAIL CONTAINERS & LAYOUT
   ========================================================================== */

/**
 * Video card container
 * Main wrapper for video thumbnail sections with responsive padding
 * 
 * @component video-card
 * @responsive Padding reduces on smaller screens
 */

.video-card {
    padding: 3rem;                    /* Generous padding for desktop */
    background: transparent;          /* No background by default */
}

/**
 * Vertical spacing between content sections
 * Consistent gap between video card sections
 */
.video-card__spacer {
    margin-bottom: 4rem;             /* Large spacing for desktop */
}

/* --------------------------------------------------------------------------
   RESPONSIVE: Thumbnail Container Adaptations
   -------------------------------------------------------------------------- */

/**
 * Tablet optimization
 * Reduced padding for medium screens
 */
@media (max-width: 768px) {
    .video-card {
        padding: 2rem;               /* Reduced padding */
    }
    
    .video-card__spacer {
        margin-bottom: 3rem;         /* Reduced spacing */
    }
}

/**
 * Mobile optimization
 * Minimal padding for small screens
 */
@media (max-width: 576px) {
    .video-card {
        padding: 1rem;               /* Minimal padding */
    }
    
    .video-card__spacer {
        margin-bottom: 2rem;         /* Compact spacing */
    }
}

/**
 * Thumbnail wrapper component
 * Container for horizontal scrolling thumbnail rows with navigation
 * 
 * @component thumbnail-wrapper
 * @note Contains both thumbnails and scroll arrows
 */
.thumbnail-wrapper {
    position: relative;              /* For absolutely positioned arrows */
    overflow: hidden;                /* Hide scrollbar and overflow content */
    border-radius: 8px;             /* Rounded container */
}

/**
 * Thumbnail row container
 * Horizontal scrolling container for thumbnail items
 * 
 * @component thumbnail-row
 * @note Supports smooth scrolling behavior
 */
.thumbnail-row {
    display: flex;                   /* Horizontal flexbox layout */
    gap: 1rem;                      /* Spacing between thumbnails */
    overflow-x: auto;               /* Horizontal scrolling */
    scroll-behavior: smooth;        /* Smooth scrolling animation */
    padding: 1rem 0;               /* Vertical padding */
    
    /* Custom scrollbar styling */
    scrollbar-width: thin;          /* Firefox: thin scrollbar */
    scrollbar-color: #444 #232323; /* Firefox: thumb and track colors */
}

/**
 * Webkit scrollbar customization
 * Consistent dark theme scrollbars for Chromium browsers
 */
.thumbnail-row::-webkit-scrollbar {
    height: 8px;                    /* Horizontal scrollbar height */
    background: #232323;            /* Track color */
}

.thumbnail-row::-webkit-scrollbar-thumb {
    background: #444;               /* Thumb color */
    border-radius: 4px;             /* Rounded thumb */
    border: 1px solid #232323;     /* Border for separation */
}

.thumbnail-row::-webkit-scrollbar-thumb:hover {
    background: #666;               /* Lighter on hover */
}

/* ==========================================================================
   2. INDIVIDUAL THUMBNAIL COMPONENTS
   ========================================================================== */

/**
 * Individual video thumbnail component
 * Card-based design with image, title, and metadata
 * 
 * @component video-thumbnail
 * @modifier .video-thumbnail--featured - Larger size for featured content
 * @modifier .video-thumbnail--compact - Smaller size for dense layouts
 */
.video-thumbnail {
    flex: 0 0 auto;                 /* Don't grow/shrink, maintain size */
    width: 280px;                   /* Standard thumbnail width */
    background: rgba(40, 40, 40, 0.8); /* Semi-transparent background */
    border-radius: 12px;            /* Rounded corners */
    overflow: hidden;               /* Hide overflow content */
    transition: all 0.3s ease;     /* Smooth hover transitions */
    cursor: pointer;                /* Indicate clickability */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Subtle elevation */
    position: relative;             /* For absolute positioning of overlays */
}

/**
 * Thumbnail hover effects
 * Enhanced styling and subtle animation
 */
.video-thumbnail:hover {
    transform: translateY(-4px);    /* Lift effect */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); /* Enhanced shadow */
    background: rgba(50, 50, 50, 0.9); /* Slightly lighter background */
}

/**
 * Thumbnail image container
 * Maintains aspect ratio and proper sizing
 */
.video-thumbnail__image {
    width: 100%;                    /* Full width of container */
    height: 158px;                  /* 16:9 aspect ratio (280 * 9/16 â‰ˆ 158) */
    object-fit: cover;              /* Cover entire area, crop if needed */
    display: block;                 /* Remove inline spacing */
    background: #000;               /* Black background during load */
}

/**
 * Thumbnail title and metadata section
 * Contains title, duration, and other info
 */
.video-thumbnail__content {
    padding: 1rem;                  /* Internal spacing */
    background: inherit;            /* Inherit container background */
}

/**
 * Video title styling
 * Truncated text with proper line height
 */
.video-thumbnail__title {
    color: #fff;                    /* White text for contrast */
    font-size: 0.95rem;            /* Slightly smaller than body */
    font-weight: 500;               /* Medium weight */
    line-height: 1.3;               /* Compact line spacing */
    margin: 0 0 0.5rem 0;          /* Bottom margin only */
    
    /* Text truncation for long titles */
    display: -webkit-box;           /* Webkit flexbox */
    -webkit-box-orient: vertical;   /* Vertical orientation */
    -webkit-line-clamp: 2;          /* Limit to 2 lines (webkit) */
    line-clamp: 2;                  /* Standard property for compatibility */
    overflow: hidden;               /* Hide overflow text */
    text-overflow: ellipsis;        /* Add ellipsis */
}

/**
 * Video duration badge
 * Positioned overlay on thumbnail image
 */
.video-thumbnail__duration {
    position: absolute;             /* Overlay positioning */
    bottom: 0.5rem;                /* From bottom of image */
    right: 0.5rem;                 /* From right of image */
    background: rgba(0, 0, 0, 0.8); /* Semi-transparent black */
    color: #fff;                    /* White text */
    padding: 0.25rem 0.5rem;       /* Compact padding */
    border-radius: 4px;             /* Small rounded corners */
    font-size: 0.75rem;            /* Small text */
    font-weight: 500;               /* Medium weight */
}
.thumbnails {
    display: flex;
    overflow-x: auto;
    gap: 1em;
    padding-top: 1em;
    padding-bottom: 1em;
    scrollbar-color: #444 #232323;  /* For Firefox */
    scrollbar-width: thin;              /* For Firefox */
    scroll-behavior: smooth;
}


/* ===========================
   2. Thumbnail Card
   =========================== */

/* Category carousel thumbnails
   Similar video thumbnails */
.thumbnail {
    width: 240px;
    height: 200px;
    background: #333;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    color: #aaa;
    font-size: 0.95em;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    cursor: pointer;
    transition: transform 0.2s;
    transform-origin: center;
    position: relative;
}

@media (max-width: 768px) {
    .thumbnail {
        width: 180px;
    }
}

@media (max-width: 576px) {
    .thumbnail {
        width: 160px;
    }
}


/* Home page thumbnail */
.thumbnail-home {
    width: 330px;
    height: 260px;
    background: #333;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    color: #aaa;
    font-size: 0.95em;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    cursor: pointer;
    transition: transform 0.2s;
    transform-origin: center;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.5);
}


/* Avoid FOUC (Flash of Unstyled Content) */
.carousel[data-dynamic="true"] {
    visibility: hidden; /* Hide the carousel initially */
    opacity: 0; /* Make it invisible */
    transition: opacity 0.3s ease-in-out; /* Smooth fade-in effect */
}


/* ===========================
   3. Thumbnail Image
   =========================== */
.thumbnail img {
    width: 100%;
    height: 140px;
    object-fit: cover;
    border-radius: 8px 8px 0 0;
    display: block;
}

.thumbnail-home img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px 8px 0 0;
    display: block;
}


/* ===========================
   4. Title and Duration
   =========================== */

/* The title of the video, shown below the thumbnail */
.thumbnail-title {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    margin: 0.5em;
    font-size: 0.95em;
    text-align: center;
    color: #f0f0f0;
    word-break: break-word;
    overflow-wrap: break-word;
    max-height: 4.0em; /* Default height for 2 lines */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: normal;
    transition: max-height 0.3s ease; /* Smooth transition */
}

/* Duration badge on the thumbnail */
.thumbnail-duration {
    position: absolute;
    top: 15px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 4px 10px;
    font-size: 12px;
    border-radius: 3px;
    z-index: 1;
    pointer-events: none;
}

@media (max-width: 768px) {
    .thumbnail-title {
        font-size: 0.90em;
    }
    .thumbnail-duration {
        padding: 2px 8px;
        font-size: 11px;
    }
}

@media (max-width: 576px) {
    .thumbnail-title {
        font-size: 0.8em;
    }
    .thumbnail-duration {
        padding: 1px 4px;
        font-size: 10px;
        top: 10px;
        right: 8px;
    }
}


/* =============================
   5. Overlay for Watched Videos
   ============================= */

/* Applies to .thumbnail.watched and .card.watched */
.thumbnail.watched {
    position: relative;
}

.thumbnail.watched img {
    opacity: 0.4;                   /* Dim the image */
    transition: opacity 0.2s;
}

/* For Bootstrap cards with watched state */
.card.watched .card-img-top,
.card-img-top.watched {
    opacity: 0.5;
    transition: opacity 0.2s;
}

/* The watched icon overlay */
.thumbnail-watched-icon {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 2;
    width: 32px;
    height: 32px;
    background: rgba(0,0,0,0.7);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.thumbnail-watched-icon svg {
    width: 20px;
    height: 20px;
    fill: #fff;
}

.continue-thumb {
    width: 330px;
    height: 186px; /* 16:9 ratio */
    object-fit: cover;
    border-radius: 12px;
    background: #222;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

@media (max-width: 768px) {
    .thumbnail-watched-icon {
        width: 24px;
        height: 24px;
    }
}

@media (max-width: 576px) {
    .thumbnail-watched-icon {
        width: 20px;
        height: 20px;
    }
}

/* ===========================
   6. Effects and Links
   =========================== */
/* Hover effect for thumbnails */
.thumbnail:hover {
    transform: scale(1.03);
    background: #444;
}

/* Remove link styling inside thumbnails */
.thumbnail a {
    text-decoration: none;
    color: inherit;
}

.thumbnail-home a {
    text-decoration: none; /* Remove underline from links */
    color: inherit; /* Inherit the text color from the parent */
}


/**
 * Watched Video Styling
 * =====================
 * 
 * @component thumbnail--watched
 * @description Visual styling for watched video thumbnails
 */

/* ==========================================================================
   WATCHED VIDEO INDICATORS
   ========================================================================== */

/**
 * Darken watched video thumbnails
 */
.thumbnail--watched img,
[data-watched="true"] img {
    opacity: 0.6;                       /* Reduce opacity to darken */
    filter: brightness(0.7);            /* Additional darkening effect */
    transition: opacity 0.3s ease,      /* Smooth transitions */
                filter 0.3s ease;
}

/**
 * Restore brightness on hover for watched videos
 */
.thumbnail--watched:hover img,
[data-watched="true"]:hover img {
    opacity: 0.8;                       /* Slightly brighter on hover */
    filter: brightness(0.9);            /* Less darkening on hover */
}

/**
 * Watched icon overlay styling
 */
.thumbnail-watched-icon {
    position: absolute;
    top: 8px;
    right: 8px;
    background-color: rgba(40, 167, 69, 0.9);  /* Success green background */
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/**
 * Watched icon SVG styling
 */
.thumbnail-watched-icon svg {
    width: 14px;
    height: 14px;
    fill: white;
}

/**
 * Optional: Add a subtle overlay to watched thumbnails
 */
.thumbnail--watched::before,
[data-watched="true"]::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.3);  /* Dark overlay */
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
}

/**
 * Reduce overlay on hover
 */
.thumbnail--watched:hover::before,
[data-watched="true"]:hover::before {
    background-color: rgba(0, 0, 0, 0.15); /* Lighter overlay on hover */
}
